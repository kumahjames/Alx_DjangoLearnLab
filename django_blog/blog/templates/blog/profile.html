{% extends 'blog/base.html' %}

{% block title %}Profile - Django Blog{% endblock %}

{% block content %}
    <h2>Your Profile</h2>
    
    <div style="display: flex; gap: 20px;">
        <div style="flex: 1;">
            <h3>Update Profile</h3>
            <form method="POST">
                {% csrf_token %}
                {{ form.as_p }}
                <button type="submit">Update Profile</button>
            </form>
        </div>
        
        <div style="flex: 2;">
            <h3>Your Posts</h3>
            {% for post in user_posts %}
                <div style="border: 1px solid #ddd; padding: 10px; margin: 10px 0;">
                    <h4>{{ post.title }}</h4>
                    <p>{{ post.content|truncatewords:30 }}</p>
                    <small>Published: {{ post.published_date }}</small>
                </div>
            {% empty %}
                <p>You haven't created any posts yet.</p>
            {% endfor %}
        </div>
    </div>
{% endblock %}